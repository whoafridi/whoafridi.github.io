---
layout: post
title: Shallow vs Deep copy
subtitle: ржбрж┐ржЯрзЗржЗрж▓рж╕ ржЧрж╛ржЗржб
tags: [javascript, interview]
permalink: /shallow-deep/
---

Great! Let's now understand the difference between **Shallow Copy** and **Deep Copy** тАФ an important concept in JavaScript when dealing with **objects and arrays**.

IтАЩll explain in **English** and **Bangla**, with examples.

---

## ЁЯФБ **Shallow Copy vs Deep Copy**

| Copy Type        | Meaning (English)                                                                         | ржмрзНржпрж╛ржЦрзНржпрж╛ (ржмрж╛ржВрж▓рж╛)                                                                                   |
| ---------------- | ----------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------- |
| **Shallow Copy** | Copies only the **first level** of the object/array. Nested objects are still referenced. | рж╢рзБржзрзБржорж╛рждрзНрж░ ржЙржкрж░рзЗрж░ рж╕рзНрждрж░рзЗрж░ ржбрзЗржЯрж╛ ржХржкрж┐ ржХрж░рзЗред ржнрж┐рждрж░рзЗрж░ (nested) ржЕржмржЬрзЗржХрзНржЯ ржмрж╛ ржЕрзНржпрж╛рж░рзЗ **ржПржХржЗ рж░рзЗржлрж╛рж░рзЗржирзНрж╕** ржерж╛ржХрзЗред     |
| **Deep Copy**    | Copies **all levels**, including nested objects. No references to the original.           | рж╕ржм рж╕рзНрждрж░рзЗрж░ (nested рж╕рж╣) ржбрзЗржЯрж╛ **рж╕ржорзНржкрзВрж░рзНржг ржирждрзБржи ржХржкрж┐** рж╣ржпрж╝ред ржорзВрж▓ ржЕржмржЬрзЗржХрзНржЯрзЗрж░ рж╕ржЩрзНржЧрзЗ ржЖрж░ ржХрзЛржирзЛ рж╕ржорзНржкрж░рзНржХ ржерж╛ржХрзЗ ржирж╛ред |

---

## ЁЯзк **Shallow Copy Example**

```javascript
const original = {
  name: "Ali",
  address: {
    city: "Dhaka",
  },
};

const shallowCopy = { ...original }; // Spread = shallow copy

shallowCopy.address.city = "Chittagong";

console.log(original.address.city); // Output: "Chittagong" тЭМ (unexpected)
```

### ЁЯУМ Explanation:

Even though we copied `original` into `shallowCopy`, changing `address.city` in `shallowCopy` **also affected the original**, because **nested objects are still linked** (same reference).

ЁЯУЧ **ржмрж╛ржВрж▓рж╛**: Shallow copy-рждрзЗ `address` ржЕржмржЬрзЗржХрзНржЯржЯрж┐ ржХржкрж┐ рж╣ржпрж╝ржирж┐, рж╢рзБржзрзБ рж░рзЗржлрж╛рж░рзЗржирзНрж╕ ржЧрзЗржЫрзЗред рждрж╛ржЗ ржпрзЗржХрзЛржирзЛ ржкрж░рж┐ржмрж░рзНрждржи ржорзВрж▓ ржЕржмржЬрзЗржХрзНржЯрзЗржУ ржкрзНрж░ржнрж╛ржм ржлрзЗрж▓рзЗред

---

## ЁЯФБ **Deep Copy Example**

```javascript
const original = {
  name: "Ali",
  address: {
    city: "Dhaka",
  },
};

const deepCopy = JSON.parse(JSON.stringify(original)); // Deep copy

deepCopy.address.city = "Chittagong";

console.log(original.address.city); // Output: "Dhaka" тЬЕ (original unchanged)
```

### ЁЯУМ Explanation:

We used `JSON.stringify()` + `JSON.parse()` to create a deep copy тАФ now changing `deepCopy` doesnтАЩt affect the original.

ЁЯУЧ **ржмрж╛ржВрж▓рж╛**: Deep copy-рждрзЗ ржнрж┐рждрж░рзЗрж░ рж╕ржм рж╕рзНрждрж░рзЗрж░ ржбрзЗржЯрж╛ ржирждрзБржиржнрж╛ржмрзЗ рждрзИрж░рж┐ рж╣ржпрж╝ред рждрж╛ржЗ `deepCopy` ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рж▓рзЗ `original` ржЕржкрж░рж┐ржмрж░рзНрждрж┐ржд ржерж╛ржХрзЗред

---

## ЁЯза Summary Table:

| Feature                     | Shallow Copy                                | Deep Copy                                            |
| --------------------------- | ------------------------------------------- | ---------------------------------------------------- |
| ЁЯФД Nested Object            | Reference shared                            | Fully copied                                         |
| ЁЯТе Changes affect original? | тЬЕ Yes (for nested)                         | тЭМ No                                                |
| ЁЯЫа Methods                   | `Object.assign()`, Spread `...`             | `JSON.parse(JSON.stringify())`, lodash `cloneDeep()` |
| тЪая╕П Limitation               | Not safe for deeply nested or complex types | Can be slower, but safer                             |

---

## тЬЕ When to Use Which?

| Situation                                             | Copy Type       |
| ----------------------------------------------------- | --------------- |
| Object has only primitive values (no nesting)         | тЬЕ Shallow Copy |
| Object has nested structure and needs full separation | тЬЕ Deep Copy    |
