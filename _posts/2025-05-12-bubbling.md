---
layout: post
title: Event Bubbling ржУ Event Capturing ржЦрзБржБржЯрж┐ржирж╛ржЯрж┐ ржмрж┐рж╢рзНрж▓рзЗрж╖ржг
subtitle: ржбрж┐ржЯрзЗржЗрж▓рж╕ ржЧрж╛ржЗржб
tags: [javascript, interview]
permalink: /event-bubbling-capturing/
---

### **Event Bubbling ржУ Event Capturing ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд ржмрж╛ржВрж▓рж╛ржпрж╝**

ржЗржнрзЗржирзНржЯ рж╣рзНржпрж╛ржирзНржбрж▓рж┐ржВ-ржПрж░ ржжрзБржЯрж┐ ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг ржзрж╛рж░ржгрж╛ **Event Bubbling** ржПржмржВ **Event Capturing**ред ржПржЧрзБрж▓рзЛ ржмрзЛржЭрж╛ ржирж╛ ржерж╛ржХрж▓рзЗ Event Delegation рж╕ржарж┐ржХржнрж╛ржмрзЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ржпрж╛ржпрж╝ ржирж╛ред

---

### **рзз. Event Bubbling (ржЗржнрзЗржирзНржЯ ржмрж╛ржмрж▓рж┐ржВ)**

**рж╕ржВржЬрзНржЮрж╛**: ржпржЦржи ржХрзЛржирзЛ ржПрж▓рж┐ржорзЗржирзНржЯрзЗ ржЗржнрзЗржирзНржЯ ржШржЯрзЗ, рждржЦржи рж╕рзЗржЗ ржЗржнрзЗржирзНржЯржЯрж┐ **ржЯрж╛рж░рзНржЧрзЗржЯ ржПрж▓рж┐ржорзЗржирзНржЯ ржерзЗржХрзЗ рж╢рзБрж░рзБ ржХрж░рзЗ ржбржо ржЯрзНрж░рж┐рж░ ржЙржкрж░рзЗрж░ ржжрж┐ржХрзЗ ржкрзНржпрж╛рж░рзЗржирзНржЯ ржПрж▓рж┐ржорзЗржирзНржЯрзЗ ржкрзМржБржЫрж╛ржпрж╝**ред ржпрзЗржи ржкрж╛ржирж┐рж░ ржмрзБржжржмрзБржж рждрж▓ ржерзЗржХрзЗ ржЙржкрж░рзЗ ржЙржаржЫрзЗред

#### **ржЙржжрж╛рж╣рж░ржг**:

```html
<div id="parent">
  <button id="child">Click Me</button>
</div>
```

```javascript
document.getElementById("child").addEventListener("click", function () {
  console.log("Child clicked");
});

document.getElementById("parent").addEventListener("click", function () {
  console.log("Parent clicked");
});
```

**ржЖржЙржЯржкрзБржЯ ржХрзНрж░ржо**:

```
Child clicked
Parent clicked
```

**ржмрзНржпрж╛ржЦрзНржпрж╛**:

- ржмрж╛ржЯржирзЗ ржХрзНрж▓рж┐ржХ ржХрж░рж▓рзЗ ржкрзНрж░ржержорзЗ ржмрж╛ржЯржирзЗрж░ ржЗржнрзЗржирзНржЯ ржЪрж▓рзЗ тЖТ рждрж╛рж░ржкрж░ ржЗржнрзЗржирзНржЯржЯрж┐ "ржмрж╛ржмрж▓ ржЖржк" рж╣ржпрж╝рзЗ `div` ржкрзНржпрж╛рж░рзЗржирзНржЯрзЗ ржкрзМржБржЫрж╛ржпрж╝ред
- **ржбрж┐ржлрж▓рзНржЯ ржЖржЪрж░ржг**: рж╕ржм ржмрзНрж░рж╛ржЙржЬрж╛рж░рзЗ Bubbling ржбрж┐ржлрж▓рзНржЯржнрж╛ржмрзЗ ржЪрж╛рж▓рзБ ржерж╛ржХрзЗред

---

### **рзи. Event Capturing (ржЗржнрзЗржирзНржЯ ржХрзНржпрж╛ржкржЪрж╛рж░рж┐ржВ)**

**рж╕ржВржЬрзНржЮрж╛**: Bubbling-ржПрж░ **ржЙрж▓рзНржЯрзЛ ржкрзНрж░ржХрзНрж░рж┐ржпрж╝рж╛**ред ржЗржнрзЗржирзНржЯ ржкрзНрж░ржержорзЗ **ржбржо ржЯрзНрж░рж┐рж░ рж╕ржмржЪрзЗржпрж╝рзЗ ржЙржкрж░рзЗрж░ ржПрж▓рж┐ржорзЗржирзНржЯ (ржпрзЗржоржи `window`) ржерзЗржХрзЗ рж╢рзБрж░рзБ рж╣ржпрж╝рзЗ ржЯрж╛рж░рзНржЧрзЗржЯ ржПрж▓рж┐ржорзЗржирзНржЯрзЗрж░ ржжрж┐ржХрзЗ ржирзЗржорзЗ ржЖрж╕рзЗ**ред

#### **ржЙржжрж╛рж╣рж░ржг**:

```javascript
document.getElementById("parent").addEventListener(
  "click",
  function () {
    console.log("Parent capturing");
  },
  true
); // `true` = Capturing Phase

document.getElementById("child").addEventListener(
  "click",
  function () {
    console.log("Child capturing");
  },
  true
);
```

**ржЖржЙржЯржкрзБржЯ ржХрзНрж░ржо**:

```
Parent capturing
Child capturing
```

**ржмрзНржпрж╛ржЦрзНржпрж╛**:

- ржЗржнрзЗржирзНржЯ ржкрзНрж░ржержорзЗ `div` (ржкрзНржпрж╛рж░рзЗржирзНржЯ) ржХрзНржпрж╛ржкржЪрж╛рж░ ржХрж░рзЗ тЖТ рждрж╛рж░ржкрж░ `button` (ржЪрж╛ржЗрж▓рзНржб) ржХрзНржпрж╛ржкржЪрж╛рж░ ржХрж░рзЗред
- **ржмрзНржпржмрж╣рж╛рж░**: ржмрзЗрж╢рж┐рж░ржнрж╛ржЧ ржХрзНрж╖рзЗрждрзНрж░рзЗ Capturing ржмрзНржпржмрж╣рж╛рж░ рж╣ржпрж╝ ржирж╛ред рж╢рзБржзрзБ ржмрж┐рж╢рзЗрж╖ ржХрзНрж╖рзЗрждрзНрж░рзЗ (ржпрзЗржоржи ржирзЗржЯржУржпрж╝рж╛рж░рзНржХ рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯ рж╣рзНржпрж╛ржирзНржбрж▓рж┐ржВ) рж▓рж╛ржЧрзЗред

---

### **ржЗржнрзЗржирзНржЯ ржкрзНрж░рзЛржкрж╛ржЧрзЗрж╢ржи рждрж┐ржиржЯрж┐ ржзрж╛ржкрзЗ ржХрж╛ржЬ ржХрж░рзЗ:**

рзз. **ржЗржнрзЗржирзНржЯ ржХрзНржпрж╛ржкржЪрж╛рж░рж┐ржВ (Capturing Phase):**

- ржПржЦрж╛ржирзЗ ржЗржнрзЗржирзНржЯржЯрж┐ ржЙржкрж░рзЗрж░ ржЕржнрж┐ржнрж╛ржмржХ ржЙржкрж╛ржжрж╛ржи ржерзЗржХрзЗ рж╢рзБрж░рзБ рж╣рзЯрзЗ ржирж┐ржЪрзЗрж░ ржжрж┐ржХрзЗ (ржЯрж╛рж░рзНржЧрзЗржЯ ржЙржкрж╛ржжрж╛ржи ржкрж░рзНржпржирзНржд) ржпрж╛ржмрзЗред
- рж╕рж╛ржзрж╛рж░ржгржд ржПржЯрж┐ ржПржХржЯрж┐ ржЦрзБржм ржкрзНрж░ржержо ржкрж░рзНржпрж╛рзЯ, ржпрзЗржЦрж╛ржирзЗ ржЖржкржирж┐ ржЗржнрзЗржирзНржЯржЯрж┐ ржПржХржЯрж┐ ржкрзНржпрж╛рж░рзЗржирзНржЯ ржЙржкрж╛ржжрж╛ржирзЗ ржХрзНржпрж╛ржкржЪрж╛рж░ ржХрж░рждрзЗ ржкрж╛рж░рзЗржиред

2. **ржЯрж╛рж░рзНржЧрзЗржЯ ржлрзЗржЬ (Target Phase):**

   - ржПржЗ ржзрж╛ржкрзЗ, ржЗржнрзЗржирзНржЯржЯрж┐ рж╕рж░рж╛рж╕рж░рж┐ ржЯрж╛рж░рзНржЧрзЗржЯ ржЙржкрж╛ржжрж╛ржирзЗ ржкрзМржБржЫрж╛рзЯред ржЙржжрж╛рж╣рж░ржгрж╕рзНржмрж░рзВржк, ржЖржкржирж┐ ржпржжрж┐ ржПржХржЯрж┐ ржмрж╛ржЯржирзЗ ржХрзНрж▓рж┐ржХ ржХрж░рзЗржи, рждрж╛рж╣рж▓рзЗ ржмрж╛ржЯржиржЯрж┐ ржЯрж╛рж░рзНржЧрзЗржЯ ржЙржкрж╛ржжрж╛ржи рж╣рж┐рж╕рзЗржмрзЗ ржХрж╛ржЬ ржХрж░ржмрзЗред

3. **ржЗржнрзЗржирзНржЯ ржмрзБржмрзНржмрж▓рж┐ржВ (Bubbling Phase):**

   - ржПржмрж╛рж░ ржЗржнрзЗржирзНржЯржЯрж┐ ржЯрж╛рж░рзНржЧрзЗржЯ ржЙржкрж╛ржжрж╛ржи ржерзЗржХрзЗ рж╢рзБрж░рзБ рж╣рзЯрзЗ рждрж╛рж░ ржЕржнрж┐ржнрж╛ржмржХ ржЙржкрж╛ржжрж╛ржиржЧрзБрж▓рзЛрж░ ржжрж┐ржХрзЗ ржЙржарждрзЗ ржерж╛ржХрзЗред ржЕрж░рзНржерж╛рзО, ржкрзНрж░ржержорзЗ ржЯрж╛рж░рзНржЧрзЗржЯ ржЙржкрж╛ржжрж╛ржи, рждрж╛рж░ржкрж░ рждрж╛рж░ ржкрзНржпрж╛рж░рзЗржирзНржЯ, рждрж╛рж░ржкрж░ ржкрзНржпрж╛рж░рзЗржирзНржЯрзЗрж░ ржкрзНржпрж╛рж░рзЗржирзНржЯ, ржПржоржиржнрж╛ржмрзЗ ржЙржкрж░рзЗрж░ ржжрж┐ржХрзЗ ржЪрж▓рзЗ ржпрж╛рзЯред

### **ржЗржнрзЗржирзНржЯ ржлрзНрж▓рзЛ ржбрж╛ржпрж╝рж╛ржЧрзНрж░рж╛ржо**

```
1. Capturing Phase:
   window тЖТ document тЖТ <html> тЖТ <body> тЖТ <div> (parent) тЖТ <button> (child)

2. Target Phase:
   <button> (ржЯрж╛рж░рзНржЧрзЗржЯ ржПрж▓рж┐ржорзЗржирзНржЯ)

3. Bubbling Phase:
   <button> тЖТ <div> тЖТ <body> тЖТ <html> тЖТ document тЖТ window
```

---

### **рзй. ржЗржнрзЗржирзНржЯ рж╣рзНржпрж╛ржирзНржбрзЗрж▓ ржХрж░рж╛рж░ рзйржЯрж┐ ржзрж╛ржк**

Event Delegation ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ рж╣рж▓рзЗ ржирж┐ржЪрзЗрж░ рзйржЯрж┐ ржзрж╛ржк ржЕржирзБрж╕рж░ржг ржХрж░рзБржи:

#### **ржзрж╛ржк рзз: ржкрзНржпрж╛рж░рзЗржирзНржЯ ржПрж▓рж┐ржорзЗржирзНржЯ ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзБржи**

- рж╕ржм ржЪрж╛ржЗрж▓рзНржб ржПрж▓рж┐ржорзЗржирзНржЯржХрзЗ ржХржирзНржЯрзНрж░рзЛрж▓ ржХрж░рждрзЗ ржкрж╛рж░рзЗ ржПржоржи ржПржХржЯрж┐ **ржХржоржи ржкрзНржпрж╛рж░рзЗржирзНржЯ** ржмрзЗржЫрзЗ ржирж┐ржиред
- ржЙржжрж╛рж╣рж░ржг: ржЯрзБ-ржбрзБ рж▓рж┐рж╕рзНржЯрзЗрж░ ржЬржирзНржп `<ul id="todo-list">`ред

#### **ржзрж╛ржк рзи: ржкрзНржпрж╛рж░рзЗржирзНржЯрзЗ ржЗржнрзЗржирзНржЯ рж▓рж┐рж╕рзЗржирж╛рж░ ржпрзЛржЧ ржХрж░рзБржи**

- ржкрзНржпрж╛рж░рзЗржирзНржЯ ржПрж▓рж┐ржорзЗржирзНржЯрзЗ **ржПржХржЯрж┐ ржорж╛рждрзНрж░ ржЗржнрзЗржирзНржЯ рж▓рж┐рж╕рзЗржирж╛рж░** ржЕрзНржпрж╛ржЯрж╛ржЪ ржХрж░рзБржиред
- ржЙржжрж╛рж╣рж░ржг:
  ```javascript
  document
    .getElementById("todo-list")
    .addEventListener("click", handleTodoClick);
  ```

#### **ржзрж╛ржк рзй: ржЯрж╛рж░рзНржЧрзЗржЯ ржПрж▓рж┐ржорзЗржирзНржЯ ржЪрзЗржХ ржХрж░рзЗ ржЕрзНржпрж╛ржХрж╢ржи ржирж┐ржи**

- ржЗржнрзЗржирзНржЯ рж╣рзНржпрж╛ржирзНржбрж▓рж╛рж░ ржлрж╛ржВрж╢ржирзЗ `event.target` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ **ржХрзЛржи ржЪрж╛ржЗрж▓рзНржб ржПрж▓рж┐ржорзЗржирзНржЯ ржХрзНрж▓рж┐ржХ ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗ** рждрж╛ ржпрж╛ржЪрж╛ржЗ ржХрж░рзБржиред
- ржЙржжрж╛рж╣рж░ржг:
  ```javascript
  function handleTodoClick(event) {
    // ржЪрзЗржХ: ржХрзНрж▓рж┐ржХ ржХрж░рж╛ ржПрж▓рж┐ржорзЗржирзНржЯ <li> ржХрж┐ржирж╛
    if (event.target.tagName === "LI") {
      event.target.remove(); // ржХрзНрж▓рж┐ржХ ржХрж░рж╛ LI ржбрж┐рж▓рж┐ржЯ рж╣ржмрзЗ
    }
  }
  ```

---

### **рж╕ржорзНржкрзВрж░рзНржг ржХрзЛржб ржЙржжрж╛рж╣рж░ржг**

```html
<ul id="todo-list">
  <li>Task 1</li>
  <li>Task 2</li>
  <li>Task 3</li>
</ul>

<script>
  // ржзрж╛ржк рзз: ржкрзНржпрж╛рж░рзЗржирзНржЯ ржирж┐рж░рзНржмрж╛ржЪржи
  const todoList = document.getElementById("todo-list");

  // ржзрж╛ржк рзи: ржкрзНржпрж╛рж░рзЗржирзНржЯрзЗ ржЗржнрзЗржирзНржЯ рж▓рж┐рж╕рзЗржирж╛рж░ ржпрзЛржЧ
  todoList.addEventListener("click", function (event) {
    // ржзрж╛ржк рзй: ржЯрж╛рж░рзНржЧрзЗржЯ ржЪрзЗржХ ржХрж░рзЗ ржЕрзНржпрж╛ржХрж╢ржи
    if (event.target.tagName === "LI") {
      event.target.remove();
    }
  });

  // ржирждрзБржи ржЖржЗржЯрзЗржо ржпрзЛржЧ ржХрж░рж╛ (ржбрж╛ржЗржирж╛ржорж┐ржХ ржХржирзНржЯрзЗржирзНржЯ)
  const newItem = document.createElement("li");
  newItem.textContent = "New Task";
  todoList.appendChild(newItem); // ржЕржЯрзЛржорзЗржЯрж┐ржХ ржЗржнрзЗржирзНржЯ рж╣рзНржпрж╛ржирзНржбрзЗрж▓ рж╣ржмрзЗ!
</script>
```

---

### **ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг ржЯрж┐ржкрж╕**

1. **`event.target` vs `event.currentTarget`**:

   - `event.target`: ржпрзЗ ржПрж▓рж┐ржорзЗржирзНржЯрзЗ **ржЖрж╕рж▓рзЗ ржХрзНрж▓рж┐ржХ рж╣ржпрж╝рзЗржЫрзЗ** (ржпрзЗржоржи `<li>`)ред
   - `event.currentTarget`: ржпрзЗ ржПрж▓рж┐ржорзЗржирзНржЯрзЗ **рж▓рж┐рж╕рзЗржирж╛рж░ ржЕрзНржпрж╛ржЯрж╛ржЪ ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗ** (ржпрзЗржоржи `<ul>`)ред

2. **ржирзЗрж╕рзНржЯрзЗржб ржПрж▓рж┐ржорзЗржирзНржЯ рж╣рзНржпрж╛ржирзНржбрзЗрж▓ ржХрж░рждрзЗ**:  
   ржпржжрж┐ ржЪрж╛ржЗрж▓рзНржб ржПрж▓рж┐ржорзЗржирзНржЯрзЗрж░ ржнрзЗрждрж░ ржЖрж░ржУ ржПрж▓рж┐ржорзЗржирзНржЯ ржерж╛ржХрзЗ (ржпрзЗржоржи `<li><span>Text</span></li>`), рждрж╛рж╣рж▓рзЗ `event.target` `<span>` рж╣рждрзЗ ржкрж╛рж░рзЗред рж╕ржорж╛ржзрж╛ржи:

   ```javascript
   if (event.target.closest("li")) {
     event.target.closest("li").remove();
   }
   ```

3. **ржЗржнрзЗржирзНржЯ рж╕рзНржЯржк ржХрж░рждрзЗ**:  
   ржпржжрж┐ ржХрзЛржирзЛ ржЪрж╛ржЗрж▓рзНржбрзЗ Bubbling ржмржирзНржз ржХрж░рждрзЗ ржЪрж╛ржи:
   ```javascript
   event.stopPropagation(); // ржЗржнрзЗржирзНржЯ ржкрзНржпрж╛рж░рзЗржирзНржЯрзЗ ржпрж╛ржмрзЗ ржирж╛
   ```

---

![alt text](image.png)

### **рж╕рж╛рж░рж╕ржВржХрзНрж╖рзЗржк**

| ржзрж╛рж░ржгрж╛         | ржмрзНржпрж╛ржЦрзНржпрж╛                                                             |
| ------------- | -------------------------------------------------------------------- |
| **Bubbling**  | ржЗржнрзЗржирзНржЯ ржЯрж╛рж░рзНржЧрзЗржЯ ржерзЗржХрзЗ ржкрзНржпрж╛рж░рзЗржирзНржЯрзЗрж░ ржжрж┐ржХрзЗ ржпрж╛ржпрж╝ (ржбрж┐ржлрж▓рзНржЯ)ред                  |
| **Capturing** | ржЗржнрзЗржирзНржЯ ржкрзНржпрж╛рж░рзЗржирзНржЯ ржерзЗржХрзЗ ржЯрж╛рж░рзНржЧрзЗржЯрзЗрж░ ржжрж┐ржХрзЗ ржЖрж╕рзЗ (ржмрж┐рж░рж▓ ржмрзНржпржмрж╣рж╛рж░)ред             |
| **рзй ржзрж╛ржк**     | рзз) ржкрзНржпрж╛рж░рзЗржирзНржЯ ржирж┐рж░рзНржмрж╛ржЪржи тЖТ рзи) рж▓рж┐рж╕рзЗржирж╛рж░ ржпрзЛржЧ тЖТ рзй) ржЯрж╛рж░рзНржЧрзЗржЯ ржЪрзЗржХ ржХрж░рзЗ ржЕрзНржпрж╛ржХрж╢ржиред |

Event Delegation рж╣рж▓рзЛ **Bubbling**-ржПрж░ рж╕рзБржмрж┐ржзрж╛ ржирзЗржУржпрж╝рж╛рж░ ржПржХржЯрж┐ ржХрзМрж╢рж▓! ЁЯЪА

[Bubbling - Capturing](https://dev.to/thesanjeevsharma/event-flow-bubbling-capturing-37h0)
